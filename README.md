# 📱 프로젝트명: 실시간 스팸 전화 식별 앱 (가제)
---
## **1. 프로젝트 개요**
본 프로젝트는 **전화가 걸려오는 즉시(Real-time)** 발신자 정보를 파악하고 사용자가 대응할 수 있도록 돕는 안드로이드 애플리케이션입니다. 기존 스마트폰 환경에서는 전화 수신 화면이 전체를 가려, 모르는 번호를 웹에서 검색하거나 차단 여부를 판단하기 어렵다는 **사용자의 불편함(Pain Point)을 해결**하는 데 핵심 목적이 있습니다.

### 📜 핵심 가치
- **즉시성**: 전화가 울리는 동안 앱이 자동으로 실행되어 정보를 제공합니다.

- **편의성**: 검색부터 차단/거절까지 원터치로 수행합니다.

- **실용성**: 연락처에 없는 번호만 선별적으로 조회하여 불필요한 리소스를 줄입니다.
---
## **2. 주요 기능 상세**
### 1) 수신 번호 자동 감지 및 조회
- **트리거**: 전화 수신(`RINGING`) 상태 감지 시 앱이 백그라운드에서 즉시 동작.

- **필터링 로직**:
  1. 수신 번호 추출
  2. 사용자 기기의 주소록 대조
  3. 주소록에 없는 번호일 경우에만 외부 검색 로직 수행
  
- **정보 수집**
  - 주요 스팸 조회 사이트('더콜', '후후', '뭐야이번호' 등)를 대상으로 해당 번호를 실시간 검색
  - 검색 결과(예: "대출 권유", "인터넷 가입", 정보 없음 등)를 파싱하여 데이터 확보

### 2) 실시간 오버레이 UI
- 기본 전화 화면 위에 검색 결과를 띄워주는 팝업(Window Manager 활용) 제공

- 직관적인 정보 표시: 검색된 스팸 유형 또는 상호명 표시

### 3) 사용자 대응 액션
- 검색 결과 팝업 하단에 3가지 핵심 버튼을 제공하여, 사용자가 상황에 맞춰 즉각 대응. 

| 버튼명     | 동작 로직                                                                                 | 비고                    |
|---------|---------------------------------------------------------------------------------------|-----------------------|
| 무시하기    | 오버레이 팝업을 종료한다. 시스템 전화 수신 화면은 유지된다.                                                    | 스팸이 아니거나 받을지 말지 고민될 때 |
| 거절하기    | TelecomManager 등을 통해 즉시 통화를 종료한다.                                                     | 명백한 광고/스팸일 때          |
| 거절 후 차단 | 통화 종료를 수행한다. 해당 번호를 내부 차단 DB(Block List)에 추가한다. 시스템 통화 기록(Call Log)에서 해당 수신 내역을 삭제한다. | 다시는 받고 싶지 않은 악성 스팸일 때 |
---
## 3. 기술 스택 및 구현 전략
### 1) Development Environment
- **Language**: Kotlin 

- **Min SDK**: API 24 (Android 7.0) / Target SDK: API 34

### 2) Core Technologies
- **System Components**:
  - `BroadcastReceiver`: 전화 수신 상태(`PHONE_STATE`) 감지. 
  - `Service` (Foreground Service): 안정적인 백그라운드 작업 수행. 
  - `WindowManager`: 다른 앱 위에 그리기(`SYSTEM_ALERT_WINDOW`) 구현.

- **Networking & Parsing**:
  - `Retrofit2` / `OkHttp3`: 네트워크 통신. 
  - `Jsoup`: 스팸 조회 사이트 HTML 파싱.

- **Database**:
  - `Room DB`: 차단 목록 및 앱 자체 수신 기록 로컬 저장.

- **Permissions Handling**:
  - `READ_CALL_LOG` / `WRITE_CALL_LOG`: 통화 기록 접근 및 삭제. 
  - `ANSWER_PHONE_CALLS`: 통화 제어.
  - `READ_CONTACTS`: 저장된 번호 필터링.
---
## 4. 개발 로드맵 (Development Roadmap)
### Phase 1: 기반 구축
- [x] 안드로이드 프로젝트 세팅

- [x] `BroadcastReceiver`를 통한 수신 감지 구현

- [x] `WindowManager`를 이용한 오버레이 팝업 UI 테스트 (에뮬레이터 검증 완료)

### Phase 2: 핵심 로직 구현
- [ ] 연락처 연동: 수신 번호가 주소록에 있는지 확인하는 로직 구현.

- [ ] 웹 크롤러 모듈: '더콜' 등 사이트에서 번호 조회 후 텍스트 추출 기능 구현.

- [ ] 버튼 기능 연결:
  - 통화 종료 기능 (`TelecomManager` 활용). 
  - 통화 기록 삭제 기능 (`ContentResolver` 활용).

### Phase 3: 데이터 관리 및 고도화
- [ ] Room DB 구축: 차단된 번호 영구 저장 및 관리 리스트 UI 구현.

- [ ] UI/UX 개선: 스팸 위험도에 따른 색상 구분 (위험-Red, 안전-Green).

- [ ] 예외 처리: 네트워크 미연결 시 처리, 권한 거부 시 안내 시나리오.
---
*Created by **이유비** | Contact haha52ns@gmail.com | ![Generic badge](https://img.shields.io/badge/Vibe%20Coding-Gemini-4E88D4?style=flat-square&logo=google-gemini&logoColor=white)*